# 게임 컨셉
[Event Horizon](https://store.steampowered.com/app/465000/Event_Horizon/)과 [FTL: Faster Than Light](https://store.steampowered.com/app/212680/FTL_Faster_Than_Light/)를 섞은 2D 슈팅게임.\
플레이어는 사용할 무기를 개조할 수 있다.\
전투를 시작하면 플레이어는 자신의 함선를 조종해 적을 격파한다.

# 개발 범위
1개 이상의 [Stage](#stage)\
3개 이상의 [함선](#ship)\
3개 이상의 [무기종류](#weapon)\
2가지 이상의 [AI패턴](#ai패턴) \
6가지 이상의 [개조부품](#개조부품)

[무기 개조 시스템](#무기-개조-시스템)\
~~[함선 전력 시스템](#함선-전력-시스템)~~\
~~[함선 시설 타게팅 시스템](#함선-시설-타게팅-시스템)~~


# 예상 게임 실행 흐름
1. 어플 실행시 Touch to Play
2. 사용할 무기를 선택 및 개조\
![FTL_무기UI](https://user-images.githubusercontent.com/104414203/229501925-e582c354-d8e0-44d4-9bb2-cc35be1052cc.png)
3. 적과 전투\
![Event_Horizon](https://user-images.githubusercontent.com/104414203/229504605-9e8ba9f9-7ec4-42b9-874e-9c655e402c55.png)
4. 2, 3을 반복.
 
# 개발 일정
1주 : 임시 리소스 수집.[링크](#ftl-리소스-다운-링크)\
2주 : 기본 게임 오브젝트 class 작성\
3주 : 프레임워크 중 전투 부분 부터 작성시작\
4주 : 하위 오브젝트(무기) 구현 및 테스트\
5주 : 하위 오브젝트(함선) 구현 및 테스트\
6주 : 적 AI 구현\
7주 : 리소스 수정 및 UI 수정\
8주 : 무기 선택 등 메뉴 구현\
9주 : 게임답도록 수정.

# 진행도
![깃 Commits](https://user-images.githubusercontent.com/104414203/236822986-b59d6796-772c-4a7c-8e24-eb5b8327c1d5.png)
![표](https://user-images.githubusercontent.com/104414203/236828137-6719db0f-7312-443c-82e8-fc8729272f8e.png)

# 발표 동영상링크
[1차 링크](https://youtu.be/tVGMmG-SmUk)\
[2차 링크]()

# README 링크
[1차 링크](https://github.com/NuahNu/sgp/blob/5b27497662c78ac3d4e71f97995daa4225b0bc0c/README.md)
 - - -
 - - -
 - - -
# Interface
사용처설명\
적용중인 class열거

># IBoxCollidable
> 충돌체크에 RectF를 사용하는 객체들을 위한 interface
>
> CelestialBody, PhysicalObject 에 적용중.

># IGameObject
> 수업시간에 사용하던 interface
>
> CollisionChecker, Sprite 에 적용중

># IRecyclable
> 수업시간에 사용하던 interface
> 
> 아직 적용된 객체 없음

># IPartOfShip
> Ship class의 멤버변수로서 사용될 객체들을 위한 interface
> 
> Facility, Weapon 에 적용중

 - - -
 - - -
 - - -
# Class
목표를 먼저 설명하고 진행도를 기술.

># PlayerData
> MainScene과 상호작용하여 플레이어가 사용할 함선을 반환,\
> 게임 오버를 판별.
> 
> UI와 상호작용하여 점수를 출력.
> 
> ## 구현된 부분 - 30%
> 현재 보유 함선 배열과 이를 반환하는 함수,\
> 점수를 기록하는 변수 보유중

># Vector2D
> 각종 객체들의 status 표현과 사용을 위해 GitHub에서 긁어온 class\
> [링크](https://gist.github.com/gunvirranu/6816d65c0231981787ebefd3bdb61f98)

># PhysicalObject
> 2차원 공간에서 물리적 운동을 할 것으로 예상되는 객체들을 위한 class
>
> Sprite를 상속받음
> 
> ## 구현된 부분 - 100%
>
>> ## CelestialBody
>> 배경이 우주이므로 우주 공간에 떠다니는 중립 오브젝트를 위한 class
>>
>> 현재는 그냥 Sprite을 상속받도록 되어있며, 추후 작성하면서 바뀔 가능성이 높음.
>> 
>># 구현된 부분 - 0%
>
>> ## Ship
>> 플레이어와 적이 사용할 함선 객체를 위한 class\
>> 이 class를 상속하여 만든 class로 실제 사용할 객체를 생성\
>> 사용한 이미지들은 게임 FTL에서 가져옴\
>> 조작방식은 게임 Event Horizon의 방식을 사용할 예정.\
>> └스틱을 사용해 함선이 바라볼 각을 정하고 각이 일치하면 가속\
>> └버튼을 사용해 무기를 사용\
>> 함선이 파괴될 경우 Gib라는 객체를 생성하며 소멸함.
>>
>> Sprinte를 상속받기 때문에 스스로 draw가 있고,\
>> 멤버변수 HP가 실드의 이미지를 갖기에 실드의 draw를 자신의 draw에서 호출.\
>> 실드까지는 함께 canvas를 변환시켜 그림.\
>> 멤버변수 weaponList의 Weapon들의 draw를도 자신의 draw에서 호출함.\
>> weaponLocationList와 weaponArmLength로 무기의 위치를 보정.\
>> 무기를 그릴때에는 입력한 좌표에 무기 이미지의 중앙 하단이 오도록 그림.
>>
>> ~~여유가 되면~~\
>> ~~함선도 무기처럼 Facility로 개조가능하도록~~
>>
>>### 구현된 부분 - 70%
>> Fcaility class진행도가 낮아 관련 메소드들도 구현된게 없음.\
>> 조작을 위한 UI class 진행도가 낮아 관련 메소드들도 구현된게 없음.\( 선회율 등 \)
>> 
>>
>>> ### Kestrel_0
>>> 게임 FTL의 The Kestrel을 구현.\
>>> 부착 가능한 무기는 4개.
>>> ![kestrel_0](https://user-images.githubusercontent.com/104414203/236832699-fd3b90cc-d7b1-4f4c-ad8f-aa0252001778.png)
>>>
>>>### 구현된 부분 - 80%
>>> 게임이 완성되면 세세한 제원의 밸런스를 잡아야 함.\
>>> 구현된 무기가 하나밖에 없어 일단 한 종류의 무기만 부착되어있음.\
>>> 발사체가 구현되어있지 않음.
>>
>>> ### Stealth_0
>>> 게임 FTL의 The Nesasio를 구현.\
>>> 부착 가능한 무기는 4개.
>>> ![stealth_0](https://user-images.githubusercontent.com/104414203/236832720-f78b3d92-e138-4ae6-86ba-1e136563ea79.png)
>>>
>>>### 구현된 부분 - 80%
>>> 게임이 완성되면 세세한 제원의 밸런스를 잡아야 함.\
>>> 구현된 무기가 하나밖에 없어 일단 한 종류의 무기만 부착되어있음.\
>>> 발사체가 구현되어있지 않음.
>>
>>> ### Boss
>>> 게임 FTL의 적 보스 기함을 구현.\
>>> 부착 가능한 무기는 4개.\
>>> 전용 무기를 사용함.
>>> ![boss_0](https://user-images.githubusercontent.com/104414203/236832730-e51157a2-a160-4c99-89b2-d513c7f723e0.png)
>>>
>>>### 구현된 부분 - 90%
>>> 게임이 완성되면 세세한 제원의 밸런스를 잡아야 함.\
>>> 무기는 구현했으나 발사체가 구현되어있지 않음.
>>
>>> ### Gib
>>> 게임 FTL에서 함선이 파괴되면 분해되는 애니메이션을 구현하기 위한 class\
>>> 생성될때 본래의 함선의 정보를 전달받아 생성됨.\
>>> 현재는 속도, 회전각, 무기 관련 정보들을 받음.\
>>> 생성될때 임의의 방향으로 날아가며, 회전한다.
>>> ![Gib](https://user-images.githubusercontent.com/104414203/236832216-20bb402b-ff98-4ba3-b958-9f16ff5a4413.png)
>>> 
>>> ### 구현된 부분 - 100%

># Projectile
> 무기에서 발사되는 발사체를 위한 class\
> 이 class를 상속하여 만든 class로 실제 사용할 객체를 생성\
> 함선과 충돌시 피해를 입히며 소멸됨.\
> 일부 발사체끼리도 충돌 가능
> 
> PhysicalObject를 상속받는게 좋을 것 같지만 현재는 AnimSprite를 사용하려고 해서 상속받지 않음.
>
> ## 구현된 부분 - 60%
> 수명, 피해량, 발사체 타입, 발사체 체력 등이 구현되어있지 않음.\
> 미사일, 빔 무기의 발사체 class를 구현해야함.
> 
>> ## Bullet
>> Lazer 무기에서 발사되는 발사체.\
>> 직선으로 나아감.
>> 
>> ### 구현된 부분 - 60%
>> Projectile에서 구현되지 않은 부분을 제외하고는 구현됨.
>> 
>> ## 마시일, 빔 무기의 발사체 미구현
 
># Weapon 
> 함선에 장착될 무기를 위한 class\
> 이 class를 상속하여 만든 class로 실제 사용할 객체를 생성\
> 쿨타임이 차면 currentBulletStock이 증가하며\
> 발사 함수를 부르면 currentBulletStock를 확인해 0이 될때까지 발사함.
>
> 무기의 중심점 (멤버변수 x, y)은 이미지의 상단 중앙으로, 이 위치에 투사체를 생성함.\
> 무기의 경우 발사체를 생성해야하기 때문에 canvas를 따로 변환시켜 그림.
>
> Sprite를 상속받음
>
> ## 구현된 부분 - 40%
> 무기에 전달해야할 정보들\( 데미지, 사거리, 투사체옵션, 발사체 속도, 발사 오차, 발사체 체력 등\) 미구현
> 무기 개조 관련 메소드 미구현.
>
>>## Laser 
>> Bullet 발사체를 발사하는 무기.
>
>>## Missile -미구현
> 대상을 추적하는 투사체
>
>>## Beam -미구현
> 범위안에 들어온 객체에 지속적으로 피해를 주는 투사체
>
>>## Boss_Laser 
>> 보스 전용 Laser
>
>>## Boss_Missile 
>> 보스 전용 Missile\
>> 발사체 미구현
>
>>## Boss_Beam 
>> 보스 전용 Beam\
>> 발사체 미구현
>
>>## Boss_Ion
>> 보스 전용 Laser2\
>> 원작 게임에서는 다른 종류의 발사체를 발사하지만,\
>> 이번 프로젝트에서는 해당 종류의 발사체를 구현할 예정이 없음.

># Facility
> 함선 전력시스템에 관련된 class\
> 함선 시설 타게팅 시스템도 이 클라스로 구현될 예정인 class의 기능임.
> 함선 전력 시스템 자체의 구현 여부가 미정이므로 이 class 또한 미정.

># HP
> 체력을 갖는 객체들을 위한 class\
> 최대체력, 체력 자연회복량 등을 갖음.\
> 발사체의 종류에 따라서 받는 피해량이 다름.
>
> 만약 실드를 갖는다면 해당 객체의 draw를 호출하면 됨.\
> canvas의 변환은 이 객체를 갖는 객체에 종속되도록구현.\
> 현재실드량에 비례해서 Alpha값이 달라짐.
>
> Sprite를 상속받음.
> ## 구현된 정도 - 90%
> UI를 통해 체력을 출력할 예정인데 이때 관련된 무언가 추가될 수 있음.

># CollisionChecker
> 객체들의 충돌을 검사해줄 class\
> 각종 상호작용들을 전부 이걸로 해결 할 예정.\
> 충돌 이외에 CelestialBody의 인력 관련 연산도 할 수도 있기에 이름이 달라질 수 있음.
>
> ## 구현된 부분 - 0%
> 현재는 Layer.Ship의 객체들의 충돌만 검사중.
> 

># CollisionHelper
> CollisionChecker에서 충돌검사를 할 때 사용할 함수들을 갖는 class\
> AABB, OBB가 존재.\
> 직사각형만 지원.
>## 구현된 정도 - 50%
> 실드의 경우 타원형이므로 이에 관련한 Interface와 함수도 필요할것으로 보임.\
> ~~하나의 도형으로만 충돌을 체크하는게 아닌 다수의 도형으로 검사하도록 만들고 싶다.~~


# 기타
게임의 특성상 화면에 터치를 2개 이상을 해야할것으로 보임.
UI구현 어떻게 할지 답답
크게 그려놓고 일부분만 확대해서 그릴 수 있나?

- - -
- - -
- - -
> # Stage
> 우주를 배경으로 한 Stage 생성.\
> 가로 세로 1000m의 크기를 갖는다.\
> 중립 오브젝트 행성, 소행성이 있다.

> # 함선
> 기본적으로 함선 또한 무기처럼 개조하고 다른 이미지를 사용하여 구현.\
> 플레이어가 수정할 수는 없음.\
>> 할지 안 할지 모름.
>
> 속도와 선회율은 무게에 반비례해야함.\
> 현재 속도에 따라서 회피율이 높아짐.\
> 파괴당하는 연출 있음. 몸체는 5개정도로 나뉨.
>> 파괴될때 서로 다른 객체로 생성하고 적당한 객체에 무기를 그린다.
> 
> ## 0 Kestrel Cruuiser
> 표준형. 아무런 개조 없음\
> 플레이어가 사용할 함선. AI도 사용함.
> ## 1 유리대포
> 가볍지고 맷집이 약함. 회피율 배율이 높을 예정.
> ## 2 BOSS
> 체력이 높고 무기 슬롯이 많을 예정.

> # 무기종류
> 무기의 발사체는 에너지, 물리 2가지 속성을 가지며 개조할 때 선택할 수 있다.\
> 에너지 발사체는 데미지가 높지만, 방어막에 많이 흡수된다.\
> 물리 발사체는 데미지는 보통이지만, 방어막에 덜 흡수된다.\
> 무기는 발사체 타입, 연사력, 데미지, 사거리, 투사체 옵션, 발사체 속도, 발사 오차, 발사체 체력 을 갖는다.
> ## 탄
> 작동 시 직진하는 투사체를 발사.\
> 미사일과 충돌시 발사체 체력 -1\
> 쿨타임이 중간\
> 사정거리 중간
> ## 미사일
> 작동 시 가까운 적을 향해 나아가는 투사체를 발사.\
> 다른 발사체와 충돌시 발사체 체력 -1.\
> 쿨타임 긺\
> 사정거리 긺
> ## 빔
> 작동 시 일정 거리, 각도 내의 적을 지속공격.\
> 쿨타임과 지속시간이 같음.\
> 사정거리 짧음

> # AI패턴
> ## 간격 벌리기
> 일정 거리를 유지하며 공격. (주로 무기 사거리)\
> 주로 사정거리가 긴 무기
> ## 요격
> 직선으로 접근해 공격하고 도망을 반복.\
> 주로 강한 한방을 지닌 무기
>> # 현제 관련 class 없음

> # 개조부품
> 개조부품을 3가지 종류가 있으며 종류별로 2개를 만들 예정.\
> ## 부품 종류 1
> 1. 연사력 * 1.5, 데미지 * 0.8
> 2. 연사력 * 0.5, 데미지 * 3.0
> ## 부품 종류 2
> 1. 사거리 * 2.0, 투사체 옵션 0.5
> 2. 사거리 * 0.5, 투사체 옵션 3.0
> > ### 투사체 옵션
> > 탄 : 투사체 개수에 곱한다. (1 보다 값이 작아지면 쿨타임에 곱한다.)\
> > 미사일 : 투사체 크기에 나눈다.\
> > 빔 : 빔의 각도에 곱한다. (1 보다 값이 작아지면 데미지에 곱한다.)
> ## 부품 종류 3 
> 빔 무기에는 적용 안 됨.
> 1. 발사체 속도 * 1.5, 발사 오차 * 1.1
> 2. 발사체 속도 * 0.8, 발사체 체력 * 2
>> # 현제 관련 class 없음

> # 무기 개조 시스템
> 함선에 장착 가능한 무기는 개조가 가능하다.\
> 각각의 무기는 최대 3개의 개조부품을 장착 가능하다.\
> 같은 종류의 개조부품은 장착 불가능하다.\
> 이미지 참조
>

> # 함선 전력 시스템
> 함선는 여러개의 구역으로 구성되어있다.\
> 각 구역에 전력이 공급되어야 기능을 한다.\
> 각 구역에 공급되는 전력의 양에 따라서 기능이 추가된다.\
> 구역이 파괴될 경우 전력을 공급하지 못한다.\
> 구역의 체력과 함선의 체력은 별개이다.
> 
> 1. 조종실\
> 자동 항법장치를 사용할 수 있다.
> > 1. 자동으로 움직일 수 있다.
> > 2. 자동으로 공격할 수 있다.
> > 3. 회피율이 올라간다.
> 2. 엔진실\
> 함선가 움직일 수 있게 만든다.
> > 1. 이동 GUI가 활성화된다.
> > 2. 최대 속도가 높아진다.
> > 3. 회피율이 올라간다.
> 3. 무기 제어실\
> 함선가 공격할 수 있게 만든다.
> > 1. 공격 GUI가 활성화된다.
> > 2. 무기 쿨타임이 짧아진다.
> > 3. 투사체가 적의 이동을 예측해 발사된다.
> 4. 항해실 상황실?\
> 각종 알람, 경고가 활성화되며(구상해둔것 없음.) 플레이어 화면의 기능이 많아진다.
> > 0. 화면에 보이는 모든 객체들이 Unknown 이라는 글자와 히트박스로 보인다.
> > 1. 알람과 경고의 활성화, 화면에 보이는 객체들이 고유의 이미지로 보인다.\
>  화면 밖에 적이 있다면 그 위치를 보여준다.
> > 2. 화면에 보이는 적 함선의 구역을 알 수 있다.
> > 3. 함선 시설 타게팅 시스템이 활성화된다.
> 5. 보호막\
> 함선의 보호막이 활성화된다.\
> 기본 흡수율은 70%, 21%, 2단계 이상부터 단계당 10%, 3%씩 증가. (에너지, 무기) 최대 3단계.\
> 재충전속도는 초당 10%. 2단계 이상부터 단계당 5% 증가.\
> 최대치는 함선 체력의 50% 2단계 이상부터 단계당 25% 증가.
> 
> > 1. 방어막이 활성화된다.
>
> 
> 게임 플레이 중 GUI를 통해 구역에 공급할 전력을 조절할 수 있다.\
> 이미지 참조

> # 함선 시설 타게팅 시스템
> 기본적으로 피격시 무작위 확률로 구역이 피해를 입으며, 무작위 구역이 피해를 입는다.\
> 이 기능이 활성화 될 경우 확정적으로 구역에 피해를 입히며, 피해를 입힐 구역의 우선순위를 정할 수 있다.\
> 아래는 각 순위별 피격 확률
> 1. 60%
> 2. 23%
> 3. 12%
> 4. 4%
> 5. 1%
>
> 게임 플레이 중 GUI를 통해 우선순위를 정할 수 있다.\
> 이미지 참조

> # [FTL 리소스 다운 링크](https://www.mediafire.com/file/cn75ao2cp8m62d6/FTLSprites.rar/file)
>접속시 바로 다운로드 시작함.
